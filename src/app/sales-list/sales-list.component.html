<div class="container py-4">
    <h2 class="mb-4">Lista de Vendas</h2>

    <!-- Mensagem de erro -->
    <div *ngIf="error" class="alert alert-danger d-flex align-items-center" role="alert">
        <i class="bi bi-exclamation-triangle me-2"></i>
        {{ error }}
    </div>

    <!-- Carregando -->
    <div *ngIf="loading" class="text-center my-5">
        <div class="spinner-border text-primary" role="status"></div>
        <p class="mt-2">Carregando vendas...</p>
    </div>

    <!-- Nenhuma venda -->
    <div *ngIf="!loading && !hasSales" class="alert alert-info">
        Nenhuma venda cadastrada ainda.
    </div>

    <!-- Tabela de vendas -->
    <table *ngIf="hasSales" class="table table-striped table-hover align-middle">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Número</th>
                <th>Cliente</th>
                <th>Filial</th>
                <th>Data</th>
                <th>Total</th>
                <th class="text-end">Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let s of sales">
                <td>
                    <i class="bi"
                        [ngClass]="s.isCancelled ? 'bi-x-circle text-danger' : 'bi-check-circle text-success'"></i>
                </td>
                <td>{{ s.saleNumber }}</td>
                <td>{{ s.customerName }}</td>
                <td>{{ s.branchName }}</td>
                <td>{{ s.saleDate | date: 'short' }}</td>
                <td>{{ s.totalAmount | currency: 'BRL' }}</td>
                <td class="text-end">
                    <a [routerLink]="['/sales', s.id]" class="btn btn-sm btn-outline-primary me-1" title="Ver detalhes">
                        <i class="bi bi-eye"></i>
                    </a>
                    <button class="btn btn-sm btn-outline-danger" (click)="deleteSale(s.id)" title="Excluir venda">
                        <i class="bi bi-trash"></i>
                    </button>
                    <!-- Exemplo dentro do *ngFor de uma tabela -->
                    <button class="btn btn-sm btn-outline-primary" (click)="goToEdit(s.id)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>
  
                </td>
            </tr>
        </tbody>
    </table>
   
</div>