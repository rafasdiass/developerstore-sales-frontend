<div class="card mb-3 shadow-sm">
    <div class="card-body">
        <div class="row g-3 align-items-end">
            <!-- Produto -->
            <div class="col-md-4">
                <label for="product-{{ index }}" class="form-label">Produto</label>
                <select id="product-{{ index }}" class="form-select" [value]="item.productId"
                    (change)="onProductSelect(getEventValue($event))">
                    <option value="">Selecione um produto</option>
                    <option *ngFor="let p of products()" [value]="p.id">
                        {{ p.name }}
                    </option>
                </select>
            </div>

            <!-- Quantidade -->
            <div class="col-md-2">
                <label for="quantity-{{ index }}" class="form-label">Quantidade</label>
                <input id="quantity-{{ index }}" type="number" class="form-control" [value]="item.quantity" min="1"
                    (input)="onQuantityInput(getEventValueAsNumber($event))" />
            </div>

            <!-- Preço Unitário -->
            <div class="col-md-2">
                <label class="form-label">Preço Unitário</label>
                <input type="text" class="form-control" [value]="item.unitPrice | currency:'BRL'" readonly />
            </div>

            <!-- Desconto -->
            <div class="col-md-2">
                <label class="form-label">Desconto</label>
                <div class="form-control bg-light text-muted">
                    {{ discount() | currency:'BRL' }}
                </div>
            </div>

            <!-- Total -->
            <div class="col-md-2">
                <label class="form-label">Total</label>
                <div class="form-control bg-light fw-bold">
                    {{ totalItemAmount() | currency:'BRL' }}
                </div>
            </div>
        </div>

        <!-- Botão de Remover -->
        <div class="row mt-3">
            <div class="col text-end">
                <button type="button" class="btn btn-outline-danger btn-sm" (click)="onRemove()">
                    <i class="bi bi-trash"></i> Remover item
                </button>
            </div>
        </div>
    </div>
</div>
  